<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymelraf.org">
<head>
<meta charset="UTF-8">
<title>Detail</title>
</head>
<body>

	<div th:text="|${board.boardId}번째 게시글|"></div>
	<span th:text="|작성일자 ${#dates.format(board.createDt,'yyyy-MM-dd')}|"></span>	
	<div th:text="|제목 : ${board.title}|"></div>
	<pre th:text="|내용 : ${board.contents}|"></pre>
	<div>
		<button type="button" id=btn-edit>편집</button>
		<button type="button" id=btn-delete>삭제</button>
	</div>
	
	<!--/* 타임리프의 자바스크립트 인라인 문법 사용 */-->
	<!--/* 자바 스크립트에서 자바 변수 처리를 위한 텍스트 렌더링 : [[${}]] */-->
	<!--/* JavaScript Natural Template : /*[[${}]]*/ 디폴트값 */-->
	<script th:inline="javascript">
			
    const boardId = /*[[${board.boardId}]]*/0;	// ${board.boardId} 값이 있으면 사용하고 없으면 0을 사용합니다.
    
		function btnEditClickHandler() {
		  document.getElementById('btn-edit').addEventListener('click', (event) => {
		    // console.log(typeof boardId, boardId);
		    location.href = '/edit.do?boardId=' + boardId;
		  })
		}
		
		function btnDeleteClickHandler() {
		  document.getElementById('btn-delete').addEventListener('click', (event) => {
		    if(confirm('현재 게시글을 삭제할까요?')) {
			    location.href = '/remove.do?boardId=' + boardId;		
		    }
		  })
		}		
		
	  function msgHeadler() {
	    const msg = /*[[${msg}]]*/ null;
	    if(msg !== null)
	      alert(msg);
	  }
	  	  		
		btnEditClickHandler();
		btnDeleteClickHandler();
		msgHeadler();
	
	</script>

</body>
</html>